<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Rigs of Rods project documentation"><meta name=author content="Rigs of Rods contributors"><link href=https://rigsofrods.org/terrain-creation/scripting/ rel=canonical><link href=../race-generator/ rel=prev><link href=../raw-heightmaps/ rel=next><link rel=icon href=../../ror-favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.15"><title>Scripting - Rigs of Rods Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Maven+Pro:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Maven Pro";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/ror.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#terrain-scripting class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Rigs of Rods Documentation" class="md-header__button md-logo" aria-label="Rigs of Rods Documentation" data-md-component=logo> <img src=../../images/branding/RoR_Logo_TT.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Rigs of Rods Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Scripting </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom aria-label=Dark type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title=Dark for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=custom aria-label=Light type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title=Light for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/RigsOfRods/docs.rigsofrods.org title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> RigsOfRods/docs.rigsofrods.org </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Rigs of Rods Documentation" class="md-nav__button md-logo" aria-label="Rigs of Rods Documentation" data-md-component=logo> <img src=../../images/branding/RoR_Logo_TT.png alt=logo> </a> Rigs of Rods Documentation </label> <div class=md-nav__source> <a href=https://github.com/RigsOfRods/docs.rigsofrods.org title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> RigsOfRods/docs.rigsofrods.org </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Gameplay </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Gameplay </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../gameplay/installing-the-game/ class=md-nav__link> <span class=md-ellipsis> Installation Guide </span> </a> </li> <li class=md-nav__item> <a href=../../gameplay/general-faq/ class=md-nav__link> <span class=md-ellipsis> General FAQ </span> </a> </li> <li class=md-nav__item> <a href=../../gameplay/common-issues/ class=md-nav__link> <span class=md-ellipsis> Common issues </span> </a> </li> <li class=md-nav__item> <a href=../../gameplay/beginners-guide/ class=md-nav__link> <span class=md-ellipsis> Beginner's Guide </span> </a> </li> <li class=md-nav__item> <a href=../../gameplay/installing-content/ class=md-nav__link> <span class=md-ellipsis> Installing content (mods) </span> </a> </li> <li class=md-nav__item> <a href=../../gameplay/controls-config/ class=md-nav__link> <span class=md-ellipsis> Controls and configuration </span> </a> </li> <li class=md-nav__item> <a href=../../gameplay/vehicle-ai/ class=md-nav__link> <span class=md-ellipsis> Vehicle AI </span> </a> </li> <li class=md-nav__item> <a href=../../gameplay/tuning/ class=md-nav__link> <span class=md-ellipsis> Tuning menu </span> </a> </li> <li class=md-nav__item> <a href=../../gameplay/aircraft-handling/ class=md-nav__link> <span class=md-ellipsis> Aircraft handling </span> </a> </li> <li class=md-nav__item> <a href=../../gameplay/multiplayer-server-setup/ class=md-nav__link> <span class=md-ellipsis> Multiplayer server setup </span> </a> </li> <li class=md-nav__item> <a href=../../gameplay/version-2020-01-faq/ class=md-nav__link> <span class=md-ellipsis> Version 2020.01 FAQ </span> </a> </li> <li class=md-nav__item> <a href=../../gameplay/jargon/ class=md-nav__link> <span class=md-ellipsis> Jargon </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Tools and tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Tools and tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tools-tutorials/addons/ class=md-nav__link> <span class=md-ellipsis> Installing addons (Manual) </span> </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/modding-suspension/ class=md-nav__link> <span class=md-ellipsis> Modifying suspension (lifting, lowering, width, camber) </span> </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/blender-mesh-editing/ class=md-nav__link> <span class=md-ellipsis> Blender (2.7) mesh editing </span> </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/editor-nodeSnap/ class=md-nav__link> <span class=md-ellipsis> Editor nodeSnap </span> </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/visual-editors/ class=md-nav__link> <span class=md-ellipsis> Visual editors </span> </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/contributing-github/ class=md-nav__link> <span class=md-ellipsis> How to contribute to community projects using GitHub </span> </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/docs-contributing-guide/ class=md-nav__link> <span class=md-ellipsis> Docs Contributing Guide </span> </a> </li> <li class=md-nav__item> <a href=../../tools-tutorials/branding/ class=md-nav__link> <span class=md-ellipsis> Branding </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Vehicle creation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Vehicle creation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../vehicle-creation/fileformat-truck/ class=md-nav__link> <span class=md-ellipsis> Truck file format </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/fileformat-soundscript/ class=md-nav__link> <span class=md-ellipsis> Soundscript file format </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/fileformat-addonpart/ class=md-nav__link> <span class=md-ellipsis> Addonpart file format </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/alternate-skins/ class=md-nav__link> <span class=md-ellipsis> Alternate skins (skinzips) </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/engine/ class=md-nav__link> <span class=md-ellipsis> Engine </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/flares/ class=md-nav__link> <span class=md-ellipsis> Flares </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/flexbody-wheels/ class=md-nav__link> <span class=md-ellipsis> Flexbody wheels </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/flexbody-deforming-detaching-parts/ class=md-nav__link> <span class=md-ellipsis> Flexbody deforming/detaching parts </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/aircraft-and-aerodynamics/ class=md-nav__link> <span class=md-ellipsis> Aircraft and aerodynamics </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/rail-vehicles/ class=md-nav__link> <span class=md-ellipsis> Rail vehicles </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/boats/ class=md-nav__link> <span class=md-ellipsis> Boats </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/motorbikes/ class=md-nav__link> <span class=md-ellipsis> Motorbikes </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/tracked-vehicles/ class=md-nav__link> <span class=md-ellipsis> Tracked vehicles </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/vehicle-concepts/ class=md-nav__link> <span class=md-ellipsis> Vehicle (Node/Beam) concepts </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/suspension/ class=md-nav__link> <span class=md-ellipsis> Suspension </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/wheels-axles-steering/ class=md-nav__link> <span class=md-ellipsis> Wheels, axles, steering </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/special-components/ class=md-nav__link> <span class=md-ellipsis> Special components </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/weight-tuning/ class=md-nav__link> <span class=md-ellipsis> Weight tuning </span> </a> </li> <li class=md-nav__item> <a href=../../vehicle-creation/making-custom-hud/ class=md-nav__link> <span class=md-ellipsis> Making custom dashboard HUD </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Terrain creation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Terrain creation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../terrn2-subsystem/ class=md-nav__link> <span class=md-ellipsis> Terrn2 file format </span> </a> </li> <li class=md-nav__item> <a href=../terrain-conversion-terrn2/ class=md-nav__link> <span class=md-ellipsis> Converting old terrain to terrn2 format </span> </a> </li> <li class=md-nav__item> <a href=../editing-terrain-objects/ class=md-nav__link> <span class=md-ellipsis> Editing terrain objects </span> </a> </li> <li class=md-nav__item> <a href=../object-format/ class=md-nav__link> <span class=md-ellipsis> Object (odef) file format </span> </a> </li> <li class=md-nav__item> <a href=../collision-meshes/ class=md-nav__link> <span class=md-ellipsis> Collision meshes </span> </a> </li> <li class=md-nav__item> <a href=../l3dt-map-making/ class=md-nav__link> <span class=md-ellipsis> L3DT Map Making </span> </a> </li> <li class=md-nav__item> <a href=../shadows/ class=md-nav__link> <span class=md-ellipsis> Shadows </span> </a> </li> <li class=md-nav__item> <a href=../building-rail-tracks/ class=md-nav__link> <span class=md-ellipsis> Building rail tracks </span> </a> </li> <li class=md-nav__item> <a href=../race-generator/ class=md-nav__link> <span class=md-ellipsis> Race script generator </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Scripting </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Scripting </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#event-box class=md-nav__link> <span class=md-ellipsis> Event box </span> </a> <nav class=md-nav aria-label="Event box"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#defining-the-event-box class=md-nav__link> <span class=md-ellipsis> Defining the event box </span> </a> </li> <li class=md-nav__item> <a href=#programming-the-angelscript-file class=md-nav__link> <span class=md-ellipsis> Programming the AngelScript file </span> </a> </li> <li class=md-nav__item> <a href=#test-run class=md-nav__link> <span class=md-ellipsis> Test-Run </span> </a> </li> <li class=md-nav__item> <a href=#result class=md-nav__link> <span class=md-ellipsis> Result </span> </a> </li> <li class=md-nav__item> <a href=#whats-next class=md-nav__link> <span class=md-ellipsis> Whats next </span> </a> </li> <li class=md-nav__item> <a href=#advanced-examples class=md-nav__link> <span class=md-ellipsis> Advanced Examples </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#adding-a-race-to-a-terrain class=md-nav__link> <span class=md-ellipsis> Adding a race to a terrain </span> </a> <nav class=md-nav aria-label="Adding a race to a terrain"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-do-races-work class=md-nav__link> <span class=md-ellipsis> How do races work? </span> </a> </li> <li class=md-nav__item> <a href=#adding-a-race-fast-method class=md-nav__link> <span class=md-ellipsis> Adding a race (fast method) </span> </a> </li> <li class=md-nav__item> <a href=#adding-a-race-advanced-method class=md-nav__link> <span class=md-ellipsis> Adding a race (advanced method) </span> </a> <nav class=md-nav aria-label="Adding a race (advanced method)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#north-saint-helens class=md-nav__link> <span class=md-ellipsis> North Saint Helens </span> </a> </li> <li class=md-nav__item> <a href=#island class=md-nav__link> <span class=md-ellipsis> Island </span> </a> </li> <li class=md-nav__item> <a href=#bajarama class=md-nav__link> <span class=md-ellipsis> Bajarama </span> </a> </li> <li class=md-nav__item> <a href=#flat-map-v101 class=md-nav__link> <span class=md-ellipsis> Flat Map (v10.1) </span> </a> </li> <li class=md-nav__item> <a href=#f1-test-track class=md-nav__link> <span class=md-ellipsis> F1 Test Track </span> </a> </li> <li class=md-nav__item> <a href=#f1-test-track-with-penalty-events class=md-nav__link> <span class=md-ellipsis> F1 Test Track (with penalty events) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#more-advanced-functionality class=md-nav__link> <span class=md-ellipsis> More Advanced Functionality </span> </a> <nav class=md-nav aria-label="More Advanced Functionality"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#documentation-and-questions class=md-nav__link> <span class=md-ellipsis> Documentation and questions </span> </a> </li> <li class=md-nav__item> <a href=#example-extending-racesmanager class=md-nav__link> <span class=md-ellipsis> Example: Extending RacesManager </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../raw-heightmaps/ class=md-nav__link> <span class=md-ellipsis> RAW Heightmaps </span> </a> </li> <li class=md-nav__item> <a href=../custom-texture-splatting/ class=md-nav__link> <span class=md-ellipsis> Alpha splatting </span> </a> </li> <li class=md-nav__item> <a href=../old-terrn-subsystem/ class=md-nav__link> <span class=md-ellipsis> Old (0.3x) terrain file format </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Rules </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Rules </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../rules/community-guidelines/ class=md-nav__link> <span class=md-ellipsis> Community Guidelines </span> </a> </li> <li class=md-nav__item> <a href=../../rules/forum-rules/ class=md-nav__link> <span class=md-ellipsis> Forum Rules </span> </a> </li> <li class=md-nav__item> <a href=../../rules/repository-submission-guidelines/ class=md-nav__link> <span class=md-ellipsis> Repository Submission Guidelines </span> </a> </li> <li class=md-nav__item> <a href=../../rules/contributor-code-of-conduct/ class=md-nav__link> <span class=md-ellipsis> Contributor Code of Conduct </span> </a> </li> <li class=md-nav__item> <a href=../../rules/multiplayer-rules-to-play-by/ class=md-nav__link> <span class=md-ellipsis> Multiplayer Rules to Play By </span> </a> </li> <li class=md-nav__item> <a href=../../rules/privacy-policy/ class=md-nav__link> <span class=md-ellipsis> Privacy Policy </span> </a> </li> <li class=md-nav__item> <a href=../../rules/terms-of-service/ class=md-nav__link> <span class=md-ellipsis> Terms of Service </span> </a> </li> <li class=md-nav__item> <a href=../../rules/project-governance/ class=md-nav__link> <span class=md-ellipsis> Project Governance </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#event-box class=md-nav__link> <span class=md-ellipsis> Event box </span> </a> <nav class=md-nav aria-label="Event box"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#defining-the-event-box class=md-nav__link> <span class=md-ellipsis> Defining the event box </span> </a> </li> <li class=md-nav__item> <a href=#programming-the-angelscript-file class=md-nav__link> <span class=md-ellipsis> Programming the AngelScript file </span> </a> </li> <li class=md-nav__item> <a href=#test-run class=md-nav__link> <span class=md-ellipsis> Test-Run </span> </a> </li> <li class=md-nav__item> <a href=#result class=md-nav__link> <span class=md-ellipsis> Result </span> </a> </li> <li class=md-nav__item> <a href=#whats-next class=md-nav__link> <span class=md-ellipsis> Whats next </span> </a> </li> <li class=md-nav__item> <a href=#advanced-examples class=md-nav__link> <span class=md-ellipsis> Advanced Examples </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#adding-a-race-to-a-terrain class=md-nav__link> <span class=md-ellipsis> Adding a race to a terrain </span> </a> <nav class=md-nav aria-label="Adding a race to a terrain"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#how-do-races-work class=md-nav__link> <span class=md-ellipsis> How do races work? </span> </a> </li> <li class=md-nav__item> <a href=#adding-a-race-fast-method class=md-nav__link> <span class=md-ellipsis> Adding a race (fast method) </span> </a> </li> <li class=md-nav__item> <a href=#adding-a-race-advanced-method class=md-nav__link> <span class=md-ellipsis> Adding a race (advanced method) </span> </a> <nav class=md-nav aria-label="Adding a race (advanced method)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#north-saint-helens class=md-nav__link> <span class=md-ellipsis> North Saint Helens </span> </a> </li> <li class=md-nav__item> <a href=#island class=md-nav__link> <span class=md-ellipsis> Island </span> </a> </li> <li class=md-nav__item> <a href=#bajarama class=md-nav__link> <span class=md-ellipsis> Bajarama </span> </a> </li> <li class=md-nav__item> <a href=#flat-map-v101 class=md-nav__link> <span class=md-ellipsis> Flat Map (v10.1) </span> </a> </li> <li class=md-nav__item> <a href=#f1-test-track class=md-nav__link> <span class=md-ellipsis> F1 Test Track </span> </a> </li> <li class=md-nav__item> <a href=#f1-test-track-with-penalty-events class=md-nav__link> <span class=md-ellipsis> F1 Test Track (with penalty events) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#more-advanced-functionality class=md-nav__link> <span class=md-ellipsis> More Advanced Functionality </span> </a> <nav class=md-nav aria-label="More Advanced Functionality"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#documentation-and-questions class=md-nav__link> <span class=md-ellipsis> Documentation and questions </span> </a> </li> <li class=md-nav__item> <a href=#example-extending-racesmanager class=md-nav__link> <span class=md-ellipsis> Example: Extending RacesManager </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/RigsOfRods/docs.rigsofrods.org/blob/master/source/terrain-creation/scripting.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/RigsOfRods/docs.rigsofrods.org/raw/master/source/terrain-creation/scripting.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=terrain-scripting>Terrain Scripting<a class=headerlink href=#terrain-scripting title="Permanent link">&para;</a></h1> <h2 id=event-box>Event box<a class=headerlink href=#event-box title="Permanent link">&para;</a></h2> <p>this simple example will create an oil depot that reacts on trucks that drive into it.</p> <h3 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">&para;</a></h3> <ul> <li>move nhelens.zip to the <code>Documents/My Games/Rigs of Rods/mods</code> folder and unpack all its files to a new directory "nhelens"</li> <li>remove the old nhelens.zip to prevent collisions</li> <li>Enable "Debug Collisions" in your RoR settings ('Settings'&gt;'Diagnostic'&gt;'Debug Collisions') to be able to see the debug visualization for events</li> <li>get an oil-well mesh and a fitting .odef file: <del><a href="http://forumold.rigsofrods.com/index.php?topic=28551.msg355869#msg355869">http://forumold.rigsofrods.com/index.php?topic=28551.msg355869#msg355869</a></del> (Needs a new link)</li> </ul> <h3 id=defining-the-event-box>Defining the event box<a class=headerlink href=#defining-the-event-box title="Permanent link">&para;</a></h3> <p>Specified using following keywords:</p> <ul> <li><strong>boxcoords</strong>: Size and position of the box, relatively to the position of the object.</li> <li><strong>virtual</strong>: specifies that this box is an event box</li> <li><strong>event</strong> [event_name] [event_type]:</li> <li><strong>event_name</strong>: the name of the box that the script will get when being notified.</li> <li><strong>event_type</strong>: valid eventTypes that trigger this: avatar, truck, airplane, delete.</li> </ul> <p>Example:</p> <pre><code>beginbox
boxcoords 0.0, 20.0, 0.0, 5.0, -4.5, -0.5
virtual
event trigger truck
endbox
</code></pre> <h3 id=programming-the-angelscript-file>Programming the AngelScript file<a class=headerlink href=#programming-the-angelscript-file title="Permanent link">&para;</a></h3> <ul> <li>create a file named <filename>.terrn.as, so in our case the file should be called <code>a1da0UID-nhelens.terrn.as</code> when the terrain we use is called <code>a1da0UID-nhelens.terrn</code></li> </ul> <div class=highlight><pre><span></span><code><span class=c1>// Always include the base.as file!</span>
<span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;base.as&quot;</span>

<span class=n>string</span><span class=w> </span><span class=n>calledLast</span><span class=o>=</span><span class=s>&quot;&quot;</span><span class=p>;</span>

<span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
<span class=w>    </span><span class=c1>// spawn an oil-well</span>
<span class=w>    </span><span class=n>game</span><span class=p>.</span><span class=n>spawnObject</span><span class=p>(</span><span class=s>&quot;oil-well&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;my-oil-well-1&quot;</span><span class=p>,</span><span class=w> </span><span class=n>vector3</span><span class=p>(</span><span class=mf>1119.44f</span><span class=p>,</span><span class=w> </span><span class=mf>33.933f</span><span class=p>,</span><span class=w> </span><span class=mf>924.982f</span><span class=p>),</span><span class=w> </span><span class=n>vector3</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w> </span><span class=s>&quot;myCallBack&quot;</span><span class=p>,</span><span class=w> </span><span class=nb>false</span><span class=p>);</span>
<span class=p>}</span>

<span class=kt>void</span><span class=w> </span><span class=nf>myCallBack</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>trigger_type</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=n>inst</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=n>box</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>nodeid</span><span class=p>)</span>
<span class=p>{</span>
<span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>calledLast</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>inst</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=p>;</span><span class=w> </span><span class=c1>// already triggered, discard</span>

<span class=w>    </span><span class=c1>// we log a message to the logfile</span>
<span class=w>    </span><span class=n>log</span><span class=p>(</span><span class=n>inst</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot; event triggered&quot;</span><span class=p>);</span>

<span class=w>    </span><span class=c1>// We show a message ingame</span>
<span class=w>    </span><span class=n>game</span><span class=p>.</span><span class=n>flashMessage</span><span class=p>(</span><span class=n>inst</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&quot; event triggered&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>,</span><span class=w> </span><span class=mi>-1</span><span class=p>);</span>

<span class=w>    </span><span class=n>calledLast</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inst</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div> <h3 id=test-run>Test-Run<a class=headerlink href=#test-run title="Permanent link">&para;</a></h3> <p>you should see something like this:</p> <p><img alt=eventbox-debug1 src=../../images/scripting-odef-eventbox-debug-1.jpg> <img alt=eventbox-debug2 src=../../images/scripting-odef-eventbox-debug-2.jpg></p> <p>note: We're only interested in the pink boxes here, as they represent event boxes. Light pink boxes do not call back an AngelScript function, while dark pink boxes do call back an AngelScript function when triggered (~when you drive into them).</p> <p>if you do not see an oil loader, check the AngelScript.log file for errors. With no errors the log could read like this:</p> <div class=highlight><pre><span></span><code> ScriptEngine initialized
 ScriptEngine (SE) initializing ...
 Type registrations done. If you see no error above everything should be working
 ScriptEngine running
 saving script bytecode to file script_a1da0UID-nhelens.terrn.asc
 Executing main()
 The script finished successfully.
</code></pre></div> <h3 id=result>Result<a class=headerlink href=#result title="Permanent link">&para;</a></h3> <p>What happens if you drive a truck into the pink event box: </p> <p><img alt=eventbox-oilrig src=../../images/scripting-odef-eventbox-oilrig.jpg></p> <p>look at your AngelScript.log (on Windows, it's located under Documents\My Games\Rigs of Rods\logs):</p> <pre><code>02:55:05: SE| my-oil-well-1 event triggered
</code></pre> <h3 id=whats-next>Whats next<a class=headerlink href=#whats-next title="Permanent link">&para;</a></h3> <p>you could:</p> <ul> <li>check if the correct oil tanker trailer is in the spawn box</li> <li>direct the user to the oil unloading station after "loading the oil" (sleeping) for some time</li> <li>increase the node weight of a certain node inside of the tanker trailer to simulate the loaded oil.</li> </ul> <h3 id=advanced-examples>Advanced Examples<a class=headerlink href=#advanced-examples title="Permanent link">&para;</a></h3> <p>for example this script will create two oil rigs and will redirect the user to collect and drop oil between them:</p> <div class=highlight><pre><span></span><code><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;base.as&quot;</span>

<span class=kt>float</span><span class=w> </span><span class=n>timer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=kt>int</span><span class=w> </span><span class=n>timerSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>

<span class=kt>int</span><span class=w> </span><span class=n>state</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>

<span class=n>vector3</span><span class=w> </span><span class=nf>pos_oil1</span><span class=p>(</span><span class=mi>1099</span><span class=p>,</span><span class=w> </span><span class=mf>33.933</span><span class=p>,</span><span class=w> </span><span class=mf>924.982</span><span class=p>);</span>
<span class=n>vector3</span><span class=w> </span><span class=nf>pos_oil2</span><span class=p>(</span><span class=mi>1030</span><span class=p>,</span><span class=w> </span><span class=mf>33.4509</span><span class=p>,</span><span class=w> </span><span class=mf>1125.37</span><span class=p>);</span>

<span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>()</span>
<span class=p>{</span>
<span class=w>    </span><span class=c1>// spawn some oil-wells</span>
<span class=w>    </span><span class=n>game</span><span class=p>.</span><span class=n>spawnObject</span><span class=p>(</span><span class=s>&quot;oil-well&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;my-oil-well-1&quot;</span><span class=p>,</span><span class=w> </span><span class=n>pos_oil1</span><span class=p>,</span><span class=w> </span><span class=n>vector3</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w> </span><span class=s>&quot;callBackOilWellOne&quot;</span><span class=p>,</span><span class=w> </span><span class=nb>false</span><span class=p>);</span>
<span class=w>    </span><span class=n>game</span><span class=p>.</span><span class=n>spawnObject</span><span class=p>(</span><span class=s>&quot;oil-well&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;my-oil-well-2&quot;</span><span class=p>,</span><span class=w> </span><span class=n>pos_oil2</span><span class=p>,</span><span class=w> </span><span class=n>vector3</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>),</span><span class=w> </span><span class=s>&quot;callBackOilWellTwo&quot;</span><span class=p>,</span><span class=w> </span><span class=nb>false</span><span class=p>);</span>
<span class=p>}</span>

<span class=kt>void</span><span class=w> </span><span class=nf>frameStep</span><span class=p>(</span><span class=kt>float</span><span class=w> </span><span class=n>dt</span><span class=p>)</span>
<span class=p>{</span>
<span class=w>    </span><span class=c1>// count down the timer</span>
<span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>timer</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<span class=w>        </span><span class=n>timer</span><span class=w> </span><span class=o>-=</span><span class=w> </span><span class=n>dt</span><span class=p>;</span>
<span class=p>}</span>

<span class=kt>void</span><span class=w> </span><span class=nf>callBackOilWellOne</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>trigger_type</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=n>inst</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=n>box</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>nodeid</span><span class=p>)</span>
<span class=p>{</span>
<span class=w>    </span><span class=c1>//if(trigger_type != 1)  return; // we only want to trigger on events where the full truck is in the event box (doesn&#39;t work at the moment)</span>
<span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>state</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=p>;</span><span class=w> </span><span class=c1>// only process this if state is valid</span>

<span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>timerSet</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=c1>// set timer</span>
<span class=w>        </span><span class=n>timerSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>        </span><span class=n>timer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span>
<span class=w>        </span><span class=n>game</span><span class=p>.</span><span class=n>flashMessage</span><span class=p>(</span><span class=s>&quot;Loading oil ...&quot;</span><span class=p>,</span><span class=w> </span><span class=n>timer</span><span class=p>,</span><span class=w> </span><span class=mi>-1</span><span class=p>);</span>
<span class=w>        </span><span class=k>return</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>timerSet</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>timer</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=c1>// timer ran out, do something</span>
<span class=w>        </span><span class=n>game</span><span class=p>.</span><span class=n>setDirectionArrow</span><span class=p>(</span><span class=s>&quot;unload oil&quot;</span><span class=p>,</span><span class=w> </span><span class=n>pos_oil2</span><span class=p>);</span>
<span class=w>        </span><span class=n>state</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>        </span><span class=n>timerSet</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>

<span class=kt>void</span><span class=w> </span><span class=nf>callBackOilWellTwo</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>trigger_type</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=n>inst</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=n>box</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>nodeid</span><span class=p>)</span>
<span class=p>{</span>
<span class=w>    </span><span class=c1>//if(trigger_type != 1)  return; // we only want to trigger on events where the full truck is in the event box (doesn&#39;t work at the moment)</span>
<span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>state</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=p>;</span><span class=w> </span><span class=c1>// only process this if state is valid</span>

<span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>timerSet</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=c1>// set timer</span>
<span class=w>        </span><span class=n>timerSet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>        </span><span class=n>timer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span>
<span class=w>        </span><span class=n>game</span><span class=p>.</span><span class=n>flashMessage</span><span class=p>(</span><span class=s>&quot;Unloading oil ...&quot;</span><span class=p>,</span><span class=w> </span><span class=n>timer</span><span class=p>,</span><span class=w> </span><span class=mi>-1</span><span class=p>);</span>
<span class=w>        </span><span class=k>return</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>timerSet</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>timer</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
<span class=w>    </span><span class=p>{</span>
<span class=w>        </span><span class=c1>// timer ran out, do something</span>
<span class=w>        </span><span class=n>game</span><span class=p>.</span><span class=n>setDirectionArrow</span><span class=p>(</span><span class=s>&quot;load some new oil&quot;</span><span class=p>,</span><span class=w> </span><span class=n>pos_oil1</span><span class=p>);</span>
<span class=w>        </span><span class=n>state</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>        </span><span class=n>timerSet</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h2 id=adding-a-race-to-a-terrain>Adding a race to a terrain<a class=headerlink href=#adding-a-race-to-a-terrain title="Permanent link">&para;</a></h2> <p>In this tutorial, we will add a race to our terrain.</p> <h3 id=how-do-races-work>How do races work?<a class=headerlink href=#how-do-races-work title="Permanent link">&para;</a></h3> <p>In Rigs of Rods, races are added using a script file. The race that we will create in this tutorial will exist out of multiple checkpoints. The objective of the race is to get from the first till the last checkpoint as fast as possible.</p> <p>We will discuss 2 methods to add a race to your terrain:</p> <ol> <li>Using a race script generator (fast method);</li> <li>Manually creating the script (advanced method).</li> </ol> <h3 id=adding-a-race-fast-method>Adding a race (fast method)<a class=headerlink href=#adding-a-race-fast-method title="Permanent link">&para;</a></h3> <p>You can find a race script generator <a href=../race-generator/ >here</a>.</p> <p>The checkpoints can be added by specifying the position (x,y,z), rotation (x,y,z) and an object for every checkpoint. This is similar to the <a href=../old-terrn-subsystem/ >old .terrn file</a> syntax, but be aware: do NOT add the checkpoint objects to the terrain using the <a href=../old-terrn-subsystem/ >old .terrn file</a>. The objects will already be spawned by the script.</p> <p>A checkpoint object is like every other object, but has beside a visible mesh also a virtual event box. The checkpoint will be marked as passed as soon as you drive through the virtual event box.</p> <p>If you wish, you can also use the default objects, which are available by default in every Rigs of Rods installation. To use these, use objectname "chp-start" for the start and finish line and "chp-checkpoint" for the normal checkpoints. The race script generator will use these objects if you don't specify other objects.</p> <p>After generating your race, you'll need to copy the script and put it in a new file in your terrain archive. The name of this file should be <code>terrainFileName.terrn.as</code>. For example, for North Saint Helens, this would become: <code>a1da0UID-nhelens.terrn.as</code> because the terrain file name of North Saint Helens is <code>a1da0UID-nhelens.terrn</code>, and we just need to add <code>.as</code> to that.</p> <h3 id=adding-a-race-advanced-method>Adding a race (advanced method)<a class=headerlink href=#adding-a-race-advanced-method title="Permanent link">&para;</a></h3> <p>The easiest way to explain this method is by looking at some examples.</p> <h4 id=north-saint-helens>North Saint Helens<a class=headerlink href=#north-saint-helens title="Permanent link">&para;</a></h4> <p>This example script is usable to add a race to the North Saint Helens terrain (a1da0UID-nhelens.terrn).</p> <p>Every line that starts with '//' is information that explains the line(s) beneath it.</p> <p>File: a1da0UID-nhelens.terrn.as</p> <div class=highlight><pre><span></span><code><span class=c1>// The following line is required in every script, in order to ensure that</span>
<span class=c1>// the spawnpoints keep working. It includes the script inside the file &quot;base.as&quot; here.</span>

<span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;base.as&quot;</span>

<span class=c1>// We want to add a race, so we will need the race script.</span>

<span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;races.as&quot;</span>

<span class=c1>// We need to initialize the race script.</span>

<span class=n>racesManager</span><span class=w> </span><span class=nf>races</span><span class=p>();</span>

<span class=c1>// Here we start the main function. </span>
<span class=c1>// A function called &#39;main&#39; will get called as soon as the terrain has completed loading. </span>
<span class=c1>// So inside this function is a perfect spot to tell the game about our races. </span>

<span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>

<span class=w>   </span><span class=c1>// We change an option of the races script</span>
<span class=w>   </span><span class=c1>//    Because of the scattered nature of this race, we want to make sure that</span>
<span class=w>   </span><span class=c1>//    the user finds his way to the start line of the race.</span>
<span class=w>   </span><span class=c1>//    So, by setting this option to &#39;true&#39;, we make sure that when the user</span>
<span class=w>   </span><span class=c1>//    passes a checkpoint when not in a race, the user will still get a</span>
<span class=w>   </span><span class=c1>//    message informing the user about the race.</span>
<span class=w>   </span><span class=n>races</span><span class=p>.</span><span class=n>showCheckPointInfoWhenNotInRace</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>

<span class=w>   </span><span class=c1>// For the game to recognize the race, it needs to know where the checkpoints are,</span>
<span class=w>   </span><span class=c1>//    so we define them in an Array.</span>
<span class=w>   </span><span class=c1>//    Every line with numbers defines a checkpoint.</span>
<span class=w>   </span><span class=c1>//    The numbers on a line are from left to right: position X, Y, Z, rotation X, Y, Z</span>
<span class=w>   </span><span class=c1>//    (with position in meters and rotation in degrees)</span>
<span class=w>   </span><span class=c1>//    So they&#39;re coordinates to uniquely define the location and rotation of an</span>
<span class=w>   </span><span class=c1>//    object in a three dimensional space.</span>
<span class=w>   </span><span class=n>array</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>coordinates</span><span class=w> </span><span class=o>=</span><span class=w> </span>
<span class=w>       </span><span class=p>{</span>
<span class=w>           </span><span class=c1>// { pos X  ,  pos Y   ,   pos Z     ,  rot X  ,   rot Y   ,  rot Z  }</span>
<span class=w>           </span><span class=p>{</span><span class=mf>1145.762451</span><span class=p>,</span><span class=w> </span><span class=mf>43.409168</span><span class=p>,</span><span class=w>  </span><span class=mf>1874.828247</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>-20.000000</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>1223.362061</span><span class=p>,</span><span class=w> </span><span class=mf>66.093338</span><span class=p>,</span><span class=w>  </span><span class=mf>2128.568359</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>30.000000</span><span class=p>,</span><span class=w>  </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>1493.947388</span><span class=p>,</span><span class=w> </span><span class=mf>90.977753</span><span class=p>,</span><span class=w>  </span><span class=mf>2490.836426</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>55.000000</span><span class=p>,</span><span class=w>  </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>1854.234497</span><span class=p>,</span><span class=w> </span><span class=mf>141.551270</span><span class=p>,</span><span class=w> </span><span class=mf>2732.894287</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>65.000000</span><span class=p>,</span><span class=w>  </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>2157.161865</span><span class=p>,</span><span class=w> </span><span class=mf>130.438171</span><span class=p>,</span><span class=w> </span><span class=mf>2720.815430</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>90.000000</span><span class=p>,</span><span class=w>  </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>2422.710693</span><span class=p>,</span><span class=w> </span><span class=mf>110.228294</span><span class=p>,</span><span class=w> </span><span class=mf>2523.404785</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>140.000000</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>2607.359619</span><span class=p>,</span><span class=w> </span><span class=mf>107.782913</span><span class=p>,</span><span class=w> </span><span class=mf>2203.569824</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>165.000000</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>2534.100342</span><span class=p>,</span><span class=w> </span><span class=mf>107.596176</span><span class=p>,</span><span class=w> </span><span class=mf>1938.718140</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>205.000000</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>2269.411377</span><span class=p>,</span><span class=w> </span><span class=mf>134.870911</span><span class=p>,</span><span class=w> </span><span class=mf>1729.099121</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>265.000000</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>1974.688110</span><span class=p>,</span><span class=w> </span><span class=mf>104.931290</span><span class=p>,</span><span class=w> </span><span class=mf>1732.083618</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>245.000000</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>1865.982056</span><span class=p>,</span><span class=w> </span><span class=mf>101.138504</span><span class=p>,</span><span class=w> </span><span class=mf>1618.693237</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>245.000000</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>1706.379395</span><span class=p>,</span><span class=w> </span><span class=mf>148.594437</span><span class=p>,</span><span class=w> </span><span class=mf>1533.436157</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>255.000000</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=p>{</span><span class=mf>1470.152100</span><span class=p>,</span><span class=w> </span><span class=mf>120.901085</span><span class=p>,</span><span class=w> </span><span class=mf>1504.998291</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>310.000000</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>           </span><span class=c1>// Note: No comma after the last checkpoint.</span>
<span class=w>           </span><span class=p>{</span><span class=mf>1238.410767</span><span class=p>,</span><span class=w> </span><span class=mf>47.336208</span><span class=p>,</span><span class=w>  </span><span class=mf>1735.698242</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>,</span><span class=w> </span><span class=mf>325.000000</span><span class=p>,</span><span class=w> </span><span class=mf>0.000000</span><span class=p>}</span>
<span class=w>       </span><span class=p>};</span>

<span class=w>   </span><span class=c1>// Now we add the race with name &#39;Rigbreaker&#39;.</span>
<span class=w>   </span><span class=c1>// The last parameter is number of laps.</span>
<span class=w>   </span><span class=c1>// * This race has 1 lap.</span>
<span class=w>   </span><span class=c1>// * You can use &#39;races.LAPS_NoLaps&#39; to have no laps </span>
<span class=w>   </span><span class=c1>//       (~the race start point is not the same checkpoint as the race finish point).</span>
<span class=w>   </span><span class=c1>// * You can also use &#39;races.LAPS_Unlimited&#39; to have a never ending race (~unlimited amount of laps)</span>
<span class=w>   </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;Rigbreaker&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coordinates</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>);</span>

<span class=p>}</span><span class=w> </span><span class=c1>// end of the main function</span>

<span class=c1>// The default RoR event callback</span>
<span class=c1>// This procedure will get called by Rigs of Rods on certain occasions,</span>
<span class=c1>// decided by the race script. </span>
<span class=kt>void</span><span class=w> </span><span class=nf>eventCallback</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>

<span class=w>   </span><span class=c1>// It&#39;s not obligated to add this, but it&#39;s a good habit.</span>
<span class=w>   </span><span class=n>races</span><span class=p>.</span><span class=n>eventCallback</span><span class=p>(</span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=p>);</span>

<span class=p>}</span>

<span class=c1>// end of the script. </span>
</code></pre></div> <h4 id=island>Island<a class=headerlink href=#island title="Permanent link">&para;</a></h4> <p>This example script is usable to add a race to the Island terrain (496aUID-island.terrn).</p> <p>File: 496aUID-island.terrn.as</p> <div class=highlight><pre><span></span><code><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;base.as&quot;</span>
<span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;races.as&quot;</span>

<span class=n>racesManager</span><span class=w> </span><span class=nf>races</span><span class=p>();</span>

<span class=c1>// The default RoR main function </span>
<span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>

<span class=w>   </span><span class=n>array</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>coordinates</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
<span class=w>       </span><span class=p>{</span><span class=mf>791.551</span><span class=p>,</span><span class=w> </span><span class=mf>87.6567</span><span class=p>,</span><span class=w> </span><span class=mf>1558.25</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w>  </span><span class=mf>35.3333</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>970.905</span><span class=p>,</span><span class=w> </span><span class=mf>119.2</span><span class=w>  </span><span class=p>,</span><span class=w> </span><span class=mf>1421.01</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>-93.6470</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>1350.28</span><span class=p>,</span><span class=w> </span><span class=mf>157.644</span><span class=p>,</span><span class=w> </span><span class=mf>1375.19</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>-44.4060</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>1506.18</span><span class=p>,</span><span class=w> </span><span class=mf>180.185</span><span class=p>,</span><span class=w> </span><span class=mf>1309.12</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w>  </span><span class=mf>29.4644</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>1306.9</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=mf>209.358</span><span class=p>,</span><span class=w> </span><span class=mf>1250.37</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w>  </span><span class=mf>70.3679</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>940.346</span><span class=p>,</span><span class=w> </span><span class=mf>236.788</span><span class=p>,</span><span class=w> </span><span class=mf>926.603</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w>  </span><span class=mf>16.9539</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>}</span>
<span class=w>   </span><span class=p>};</span>
<span class=w>   </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;To The Top&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coordinates</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>);</span>
<span class=p>}</span>

<span class=c1>// The default RoR event callback</span>
<span class=kt>void</span><span class=w> </span><span class=nf>eventCallback</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>

<span class=w>   </span><span class=n>races</span><span class=p>.</span><span class=n>eventCallback</span><span class=p>(</span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=p>);</span>

<span class=p>}</span>
</code></pre></div> <h4 id=bajarama>Bajarama<a class=headerlink href=#bajarama title="Permanent link">&para;</a></h4> <p>This example script shows a race with an unlimited amount of laps (a never ending race). It is usable with the Bajarama terrain (8c07UID-bajarama.terrn).</p> <p>File: 8c07UID-bajarama.terrn.as </p> <div class=highlight><pre><span></span><code><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;base.as&quot;</span>
<span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;races.as&quot;</span>

<span class=n>racesManager</span><span class=w> </span><span class=nf>races</span><span class=p>();</span>

<span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>

<span class=w>   </span><span class=n>array</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>coords1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
<span class=w>       </span><span class=p>{</span><span class=mf>179.088196</span><span class=p>,</span><span class=w>     </span><span class=mf>1.351834</span><span class=p>,</span><span class=w>   </span><span class=mf>203.319107</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.000006</span><span class=p>,</span><span class=w>    </span><span class=mf>75.500044</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.849956</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>56.070511</span><span class=p>,</span><span class=w>      </span><span class=mf>1.247547</span><span class=p>,</span><span class=w>   </span><span class=mf>119.811401</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000001</span><span class=p>,</span><span class=w>   </span><span class=mf>109.500097</span><span class=p>,</span><span class=w>     </span><span class=mf>1.700087</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>88.742783</span><span class=p>,</span><span class=w>      </span><span class=mf>2.674362</span><span class=p>,</span><span class=w>   </span><span class=mf>332.812042</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000071</span><span class=p>,</span><span class=w>   </span><span class=mf>127.500016</span><span class=p>,</span><span class=w>    </span><span class=mf>-7.299959</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>157.537796</span><span class=p>,</span><span class=w>     </span><span class=mf>1.121414</span><span class=p>,</span><span class=w>   </span><span class=mf>478.227203</span><span class=p>,</span><span class=w>     </span><span class=mf>0.595164</span><span class=p>,</span><span class=w>   </span><span class=mf>-29.497634</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.456070</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>202.784286</span><span class=p>,</span><span class=w>     </span><span class=mf>1.830205</span><span class=p>,</span><span class=w>   </span><span class=mf>240.792023</span><span class=p>,</span><span class=w>     </span><span class=mf>0.446688</span><span class=p>,</span><span class=w>   </span><span class=mf>-87.490632</span><span class=p>,</span><span class=w>    </span><span class=mf>-2.408985</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>326.742004</span><span class=p>,</span><span class=w>     </span><span class=mf>1.115725</span><span class=p>,</span><span class=w>   </span><span class=mf>436.851685</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000000</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000003</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.200001</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>360.338379</span><span class=p>,</span><span class=w>     </span><span class=mf>1.100020</span><span class=p>,</span><span class=w>   </span><span class=mf>102.170441</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000033</span><span class=p>,</span><span class=w>  </span><span class=mf>-140.500010</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.700087</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>482.216766</span><span class=p>,</span><span class=w>     </span><span class=mf>1.089854</span><span class=p>,</span><span class=w>   </span><span class=mf>430.449249</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000000</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000000</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.500001</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>478.902618</span><span class=p>,</span><span class=w>     </span><span class=mf>1.325789</span><span class=p>,</span><span class=w>    </span><span class=mf>90.371094</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000000</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.000014</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000000</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>92.562027</span><span class=p>,</span><span class=w>      </span><span class=mf>1.122820</span><span class=p>,</span><span class=w>    </span><span class=mf>86.679283</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000002</span><span class=p>,</span><span class=w>   </span><span class=mf>-91.000017</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000002</span><span class=p>},</span>
<span class=w>       </span><span class=p>{</span><span class=mf>264.193359</span><span class=p>,</span><span class=w>     </span><span class=mf>1.481601</span><span class=p>,</span><span class=w>   </span><span class=mf>121.791405</span><span class=p>,</span><span class=w>     </span><span class=mf>0.000000</span><span class=p>,</span><span class=w>  </span><span class=mf>-179.999991</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.700000</span><span class=p>}</span>
<span class=w>   </span><span class=p>};</span>
<span class=w>   </span><span class=c1>//                           race name coordinates   #laps          checkpoint object     startline object</span>
<span class=w>   </span><span class=kt>int</span><span class=w> </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;Bajarama&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords1</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_Unlimited</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>);</span>

<span class=p>}</span>

<span class=c1>// The default RoR event callback</span>
<span class=kt>void</span><span class=w> </span><span class=nf>eventCallback</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>

<span class=w>   </span><span class=n>races</span><span class=p>.</span><span class=n>eventCallback</span><span class=p>(</span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=p>);</span>

<span class=p>}</span>
</code></pre></div> <h4 id=flat-map-v101>Flat Map (v10.1)<a class=headerlink href=#flat-map-v101 title="Permanent link">&para;</a></h4> <p>This example script illustrates how to add multiple races to one terrain and is usable for the Flat Map terrain (f4afUID-flat_map_full32xa.terrn).</p> <p>File: f4afUID-flat_map_full32xa.terrn.as</p> <div class=highlight><pre><span></span><code><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;base.as&quot;</span>

<span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;races.as&quot;</span>

<span class=n>racesManager</span><span class=w> </span><span class=nf>races</span><span class=p>();</span>

<span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>

<span class=w>    </span><span class=c1>// We add 4 races to the map</span>
<span class=w>    </span><span class=c1>// RACE 1: Dirt drag race - right side</span>
<span class=w>    </span><span class=n>array</span><span class=err>`</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=err>`</span><span class=o>&gt;</span><span class=w> </span><span class=n>coords1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=p>{</span><span class=mf>2293.272705</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>2035.251465</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>        </span><span class=p>{</span><span class=mf>2293.272705</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1484.145752</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>}</span>
<span class=w>    </span><span class=p>};</span>
<span class=w>    </span><span class=c1>//                              race name           coordinates   #laps</span>
<span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;Dirt DragRace - Right Side&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords1</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// race 1 added and working</span>

<span class=w>    </span><span class=c1>// RACE 2: Dirt drag race - left side</span>
<span class=w>    </span><span class=n>array</span><span class=err>`</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=err>`</span><span class=o>&gt;</span><span class=w> </span><span class=n>coords2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=p>{</span><span class=mf>2268.944580</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>2035.251465</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>        </span><span class=p>{</span><span class=mf>2268.944580</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>1484.145752</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>}</span>
<span class=w>    </span><span class=p>};</span>
<span class=w>    </span><span class=c1>//                              race name           coordinates   #laps</span>
<span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;Dirt DragRace - Left Side&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords2</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// race 2 added and working</span>

<span class=w>    </span><span class=c1>// RACE 3: Runway drag race - left side</span>
<span class=w>    </span><span class=n>array</span><span class=err>`</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=err>`</span><span class=o>&gt;</span><span class=w> </span><span class=n>coords3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=p>{</span><span class=mf>2327.494141</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1388.388794</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>        </span><span class=p>{</span><span class=mf>2327.494141</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>932.558044</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>}</span>
<span class=w>    </span><span class=p>};</span>
<span class=w>    </span><span class=c1>//                              race name           coordinates   #laps</span>
<span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;Runway DragRace - Left Side&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords3</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// race 3 added and working</span>

<span class=w>    </span><span class=c1>// RACE 4: Runway drag race - right side</span>
<span class=w>    </span><span class=n>array</span><span class=err>`</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=err>`</span><span class=o>&gt;</span><span class=w> </span><span class=n>coords4</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=p>{</span><span class=mf>2343.309814</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>1388.388794</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>        </span><span class=p>{</span><span class=mf>2343.309814</span><span class=p>,</span><span class=w> </span><span class=mf>1.0</span><span class=p>,</span><span class=w> </span><span class=mf>932.558044</span><span class=w> </span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>}</span>
<span class=w>    </span><span class=p>};</span>
<span class=w>    </span><span class=c1>//                              race name           coordinates   #laps</span>
<span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;Runway DragRace - Right Side&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords4</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// race 4 added and working</span>

<span class=p>}</span>

<span class=c1>// The default RoR event callback </span>

<span class=kt>void</span><span class=w> </span><span class=nf>eventCallback</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>

<span class=w>    </span><span class=n>races</span><span class=p>.</span><span class=n>eventCallback</span><span class=p>(</span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=p>);</span>

<span class=p>}</span>
</code></pre></div> <h4 id=f1-test-track>F1 Test Track<a class=headerlink href=#f1-test-track title="Permanent link">&para;</a></h4> <p>This example script illustrates how to use custom checkpoint objects and multiple races on one terrain. The script can be used with the F1 Test Track terrain (2af11UID-f1_testtrack.terrn).</p> <p>File: 2af11UID-f1_testtrack.terrn.as </p> <div class=highlight><pre><span></span><code><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;base.as&quot;</span>

<span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;races.as&quot;</span>

<span class=n>racesManager</span><span class=w> </span><span class=nf>races</span><span class=p>();</span>

<span class=c1>// The default RoR main function </span>
<span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>

<span class=w>    </span><span class=c1>// We add 5 races to the map</span>

<span class=w>    </span><span class=c1>// RACE 1</span>
<span class=w>    </span><span class=n>array</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>coords1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>882.132996</span><span class=p>,</span><span class=w>    </span><span class=mf>0.120613</span><span class=p>,</span><span class=w>  </span><span class=mf>1324.317139</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>658.905884</span><span class=p>,</span><span class=w>    </span><span class=mf>0.076029</span><span class=p>,</span><span class=w>  </span><span class=mf>1324.323730</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>575.903259</span><span class=p>,</span><span class=w>    </span><span class=mf>0.062041</span><span class=p>,</span><span class=w>  </span><span class=mf>1231.623169</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>565.184814</span><span class=p>,</span><span class=w>    </span><span class=mf>0.063519</span><span class=p>,</span><span class=w>  </span><span class=mf>1037.515503</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>22.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>313.121979</span><span class=p>,</span><span class=w>    </span><span class=mf>0.079952</span><span class=p>,</span><span class=w>   </span><span class=mf>822.904663</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>5.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>385.599213</span><span class=p>,</span><span class=w>    </span><span class=mf>0.071390</span><span class=p>,</span><span class=w>   </span><span class=mf>722.493469</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>770.934998</span><span class=p>,</span><span class=w>    </span><span class=mf>0.012638</span><span class=p>,</span><span class=w>   </span><span class=mf>761.321411</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.5</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1055.889404</span><span class=p>,</span><span class=w>    </span><span class=mf>0.078151</span><span class=p>,</span><span class=w>   </span><span class=mf>664.507324</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-89.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1388.452026</span><span class=p>,</span><span class=w>    </span><span class=mf>0.030632</span><span class=p>,</span><span class=w>   </span><span class=mf>663.976257</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>92.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1457.364014</span><span class=p>,</span><span class=w>    </span><span class=mf>0.041678</span><span class=p>,</span><span class=w>   </span><span class=mf>783.509460</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>168.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1493.774048</span><span class=p>,</span><span class=w>    </span><span class=mf>0.104160</span><span class=p>,</span><span class=w>  </span><span class=mf>1309.505859</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>18.5</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1348.787964</span><span class=p>,</span><span class=w>    </span><span class=mf>0.099335</span><span class=p>,</span><span class=w>  </span><span class=mf>1324.566406</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>909.298462</span><span class=p>,</span><span class=w>    </span><span class=mf>0.044833</span><span class=p>,</span><span class=w>  </span><span class=mf>1324.610596</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>88.5</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>}</span>
<span class=w>        </span><span class=p>};</span>
<span class=w>    </span><span class=c1>//                              race name    coordinates   #laps         checkpoint object     startline object        finishline object</span>
<span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;Grand Prix long&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords1</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// race 1 added and working</span>

<span class=w>    </span><span class=c1>// RACE 2</span>
<span class=w>    </span><span class=n>array</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>coords2</span><span class=w> </span><span class=o>=</span><span class=w> </span>
<span class=w>        </span><span class=p>{</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1176.429688</span><span class=p>,</span><span class=w>    </span><span class=mf>0.063195</span><span class=p>,</span><span class=w>  </span><span class=mf>1254.195313</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>693.874573</span><span class=p>,</span><span class=w>    </span><span class=mf>0.090642</span><span class=p>,</span><span class=w>  </span><span class=mf>1251.470825</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>693.383728</span><span class=p>,</span><span class=w>    </span><span class=mf>0.071324</span><span class=p>,</span><span class=w>  </span><span class=mf>1182.933594</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>844.552612</span><span class=p>,</span><span class=w>    </span><span class=mf>0.095163</span><span class=p>,</span><span class=w>  </span><span class=mf>1168.225586</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>941.776978</span><span class=p>,</span><span class=w>    </span><span class=mf>0.052285</span><span class=p>,</span><span class=w>  </span><span class=mf>1183.067139</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1079.778198</span><span class=p>,</span><span class=w>    </span><span class=mf>0.096842</span><span class=p>,</span><span class=w>  </span><span class=mf>1183.057373</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1177.627563</span><span class=p>,</span><span class=w>    </span><span class=mf>0.067999</span><span class=p>,</span><span class=w>  </span><span class=mf>1125.772461</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-40.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1282.897095</span><span class=p>,</span><span class=w>    </span><span class=mf>0.938393</span><span class=p>,</span><span class=w>  </span><span class=mf>1045.571899</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1395.055054</span><span class=p>,</span><span class=w>    </span><span class=mf>0.107390</span><span class=p>,</span><span class=w>  </span><span class=mf>1148.677734</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1290.430908</span><span class=p>,</span><span class=w>    </span><span class=mf>0.098327</span><span class=p>,</span><span class=w>  </span><span class=mf>1254.477905</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>}</span>
<span class=w>        </span><span class=p>};</span>
<span class=w>    </span><span class=c1>//                          race name    coordinates   #laps         checkpoint object     startline object        finishline object</span>
<span class=w>    </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;Grand Prix short&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords2</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// race 2 added and working</span>

<span class=w>    </span><span class=c1>// RACE 3</span>
<span class=w>    </span><span class=n>array</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>coords3</span><span class=w> </span><span class=o>=</span>
<span class=w>        </span><span class=p>{</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1117.230103</span><span class=p>,</span><span class=w>     </span><span class=mf>0.067576</span><span class=p>,</span><span class=w>   </span><span class=mf>700.704956</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1136.480469</span><span class=p>,</span><span class=w>     </span><span class=mf>0.072812</span><span class=p>,</span><span class=w>  </span><span class=mf>1030.468628</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1101.686768</span><span class=p>,</span><span class=w>     </span><span class=mf>0.032589</span><span class=p>,</span><span class=w>   </span><span class=mf>701.005127</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>}</span>
<span class=w>        </span><span class=p>};</span>
<span class=w>    </span><span class=c1>//                       race name    coordinates   #laps         checkpoint object     startline object        finishline object</span>
<span class=w>    </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;oval race&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords3</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// race 3 added and working</span>

<span class=w>    </span><span class=c1>// RACE 4</span>
<span class=w>    </span><span class=n>array</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>coords4</span><span class=w> </span><span class=o>=</span><span class=w> </span>
<span class=w>        </span><span class=p>{</span>
<span class=w>            </span><span class=p>{</span><span class=mf>1187.875977</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>       </span><span class=mf>1220.567383</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>784.379578</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>       </span><span class=mf>1221.171143</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>}</span>
<span class=w>        </span><span class=p>};</span>
<span class=w>    </span><span class=c1>//             race name    coordinates   #laps         checkpoint object     startline object        finishline object       race version</span>
<span class=w>    </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;drag race&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords4</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// race 4 added and working</span>

<span class=w>    </span><span class=c1>// RACE 5</span>
<span class=w>    </span><span class=kt>double</span><span class=p>[][]</span><span class=w> </span><span class=n>coords5</span><span class=w> </span><span class=o>=</span><span class=w> </span>
<span class=w>        </span><span class=p>{</span>
<span class=w>            </span><span class=c1>//   x        z          y      3d rot    rot     3d rot</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>807.868</span><span class=p>,</span><span class=w> </span><span class=mf>5.09987</span><span class=p>,</span><span class=w>   </span><span class=mf>1114.47</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>724.386</span><span class=p>,</span><span class=w> </span><span class=mf>0.0994606</span><span class=p>,</span><span class=w> </span><span class=mf>1084.16</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>718.647</span><span class=p>,</span><span class=w> </span><span class=mf>0.0998037</span><span class=p>,</span><span class=w> </span><span class=mf>1038.22</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>45.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>696.235</span><span class=p>,</span><span class=w> </span><span class=mf>0.0989883</span><span class=p>,</span><span class=w>  </span><span class=mf>992.215</span><span class=p>,</span><span class=w>   </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-25.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>754.302</span><span class=p>,</span><span class=w> </span><span class=mf>0.098882</span><span class=p>,</span><span class=w>   </span><span class=mf>999.441</span><span class=p>,</span><span class=w>   </span><span class=mf>0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>763.464</span><span class=p>,</span><span class=w> </span><span class=mf>0.0987995</span><span class=p>,</span><span class=w> </span><span class=mf>1049.56</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>45.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>831.675</span><span class=p>,</span><span class=w> </span><span class=mf>5.01375</span><span class=p>,</span><span class=w>   </span><span class=mf>1058.26</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>919.557</span><span class=p>,</span><span class=w> </span><span class=mf>0.0995347</span><span class=p>,</span><span class=w> </span><span class=mf>1083.47</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>884.884</span><span class=p>,</span><span class=w> </span><span class=mf>0.0987005</span><span class=p>,</span><span class=w> </span><span class=mf>1121.12</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>}</span>
<span class=w>        </span><span class=p>};</span>
<span class=w>    </span><span class=c1>//                   race name   coordinates   #laps (no checkpoint objects are specified here, so the default RoR ones will be used)</span>
<span class=w>    </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;mud race&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords5</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// race 5 added and working</span>

<span class=p>}</span>

<span class=c1>// The default RoR event callback </span>
<span class=kt>void</span><span class=w> </span><span class=nf>eventCallback</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>

<span class=w>    </span><span class=n>races</span><span class=p>.</span><span class=n>eventCallback</span><span class=p>(</span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=p>);</span>

<span class=p>}</span>
</code></pre></div> <h4 id=f1-test-track-with-penalty-events>F1 Test Track (with penalty events)<a class=headerlink href=#f1-test-track-with-penalty-events title="Permanent link">&para;</a></h4> <p>We can also penalty events if the player hits a specific part of the checkpoint.</p> <p>For this race, we've edited the 2af11UID-new-checkpoint.odef file from <a href=https://cdn.anotherfoxguy.com/repo-backup/c1ae6cfbb628afe6e81c511ac8ac65e2a7bddae1_f1track_improved.zip>f1track_improved.zip</a> to have penalty event boxes: </p> <p><div class=highlight><pre><span></span><code><span class=na>2af11UID-new-checkpoint.mesh 1, 1, 1</span>

<span class=na>beginbox boxcoords -7.5, 6.95, -4.0, 5.2, -0.5, 0.5 virtual event checkpoint truck endbox</span>

<span class=na>beginbox boxcoords -8.6, -7.65, 0.0, 0.55, -0.65, 0.0 virtual event race_penalty truck endbox</span>

<span class=na>beginbox boxcoords 8.05, 7.1, 0.0, 0.55, -0.65, 0.0 virtual event race_penalty truck endbox</span>

<span class=na>end</span>
</code></pre></div> So the checkpoint looks like this (in debug mode): [image to be added here]</p> <p>As you can see, there are 2 small event boxes that will trigger the penalty event. The penalty event will, when triggered, add an amount of seconds to the lap time. How many seconds can be configured using the <a href=https://developer.rigsofrods.org/d9/dce/class_script2_script_1_1races_manager.html#a6d33d12db6fe5798ee9579aab701206d>races.setPenaltyTime(int raceID, int seconds)</a> method or you can just change it using the PenaltyEvent callback function.</p> <p>We'll also need this PenaltyEvent callback function when we want to show a message if a penalty event was triggered. For this we'll need to:</p> <ol> <li>Define the callback function ('on_penaltyEvent' in the script below)</li> <li>Tell the races script about this callback function ('races.setCallback("PenaltyEvent", on_penaltyEvent);')</li> </ol> <p>This is all done in the following script. Pay attention to every difference with the script above.</p> <div class=highlight><pre><span></span><code><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;base.as&quot;</span>
<span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;races.as&quot;</span>

<span class=n>racesManager</span><span class=w> </span><span class=nf>races</span><span class=p>();</span>

<span class=c1>// The default RoR main function </span>

<span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>

<span class=w>    </span><span class=c1>// the penalty event shows no message by default, so we&#39;ll have to show a message ourself. </span>
<span class=w>    </span><span class=n>races</span><span class=p>.</span><span class=n>setCallback</span><span class=p>(</span><span class=s>&quot;PenaltyEvent&quot;</span><span class=p>,</span><span class=w> </span><span class=n>on_penaltyEvent</span><span class=p>);</span><span class=w> </span>

<span class=w>    </span><span class=c1>// We add 5 races to the map </span>
<span class=w>    </span><span class=c1>// RACE 1 </span>
<span class=w>    </span><span class=n>array</span><span class=w> </span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>coords1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>882.132996</span><span class=p>,</span><span class=w>    </span><span class=mf>0.120613</span><span class=p>,</span><span class=w>  </span><span class=mf>1324.317139</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>658.905884</span><span class=p>,</span><span class=w>    </span><span class=mf>0.076029</span><span class=p>,</span><span class=w>  </span><span class=mf>1324.323730</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>575.903259</span><span class=p>,</span><span class=w>    </span><span class=mf>0.062041</span><span class=p>,</span><span class=w>  </span><span class=mf>1231.623169</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>565.184814</span><span class=p>,</span><span class=w>    </span><span class=mf>0.063519</span><span class=p>,</span><span class=w>  </span><span class=mf>1037.515503</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>22.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>313.121979</span><span class=p>,</span><span class=w>    </span><span class=mf>0.079952</span><span class=p>,</span><span class=w>   </span><span class=mf>822.904663</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>5.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>385.599213</span><span class=p>,</span><span class=w>    </span><span class=mf>0.071390</span><span class=p>,</span><span class=w>   </span><span class=mf>722.493469</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>770.934998</span><span class=p>,</span><span class=w>    </span><span class=mf>0.012638</span><span class=p>,</span><span class=w>   </span><span class=mf>761.321411</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.5</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1055.889404</span><span class=p>,</span><span class=w>    </span><span class=mf>0.078151</span><span class=p>,</span><span class=w>   </span><span class=mf>664.507324</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-89.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1388.452026</span><span class=p>,</span><span class=w>    </span><span class=mf>0.030632</span><span class=p>,</span><span class=w>   </span><span class=mf>663.976257</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>92.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1457.364014</span><span class=p>,</span><span class=w>    </span><span class=mf>0.041678</span><span class=p>,</span><span class=w>   </span><span class=mf>783.509460</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>168.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1493.774048</span><span class=p>,</span><span class=w>    </span><span class=mf>0.104160</span><span class=p>,</span><span class=w>  </span><span class=mf>1309.505859</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>18.5</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1348.787964</span><span class=p>,</span><span class=w>    </span><span class=mf>0.099335</span><span class=p>,</span><span class=w>  </span><span class=mf>1324.566406</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>909.298462</span><span class=p>,</span><span class=w>    </span><span class=mf>0.044833</span><span class=p>,</span><span class=w>  </span><span class=mf>1324.610596</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>88.5</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>}</span><span class=w> </span>
<span class=w>        </span><span class=p>};</span><span class=w> </span>
<span class=w>    </span><span class=c1>//                              race name    coordinates   #laps         checkpoint object     startline object        finishline object </span>
<span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;Grand Prix long&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords1</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>);</span><span class=w> </span>
<span class=w>    </span><span class=n>races</span><span class=p>.</span><span class=n>setPenaltyTime</span><span class=p>(</span><span class=n>raceID</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w> </span><span class=c1>//  &lt;- this sets the default penalty time (in seconds) for this race when a race_penalty event occurs.</span>
<span class=w>    </span><span class=c1>// race 1 added and working</span>


<span class=w>    </span><span class=c1>// RACE 2</span>
<span class=w>    </span><span class=n>array</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>coords2</span><span class=w> </span><span class=o>=</span><span class=w>  </span>
<span class=w>        </span><span class=p>{</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1176.429688</span><span class=p>,</span><span class=w>    </span><span class=mf>0.063195</span><span class=p>,</span><span class=w>  </span><span class=mf>1254.195313</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>693.874573</span><span class=p>,</span><span class=w>    </span><span class=mf>0.090642</span><span class=p>,</span><span class=w>  </span><span class=mf>1251.470825</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>693.383728</span><span class=p>,</span><span class=w>    </span><span class=mf>0.071324</span><span class=p>,</span><span class=w>  </span><span class=mf>1182.933594</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>844.552612</span><span class=p>,</span><span class=w>    </span><span class=mf>0.095163</span><span class=p>,</span><span class=w>  </span><span class=mf>1168.225586</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>941.776978</span><span class=p>,</span><span class=w>    </span><span class=mf>0.052285</span><span class=p>,</span><span class=w>  </span><span class=mf>1183.067139</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1079.778198</span><span class=p>,</span><span class=w>    </span><span class=mf>0.096842</span><span class=p>,</span><span class=w>  </span><span class=mf>1183.057373</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1177.627563</span><span class=p>,</span><span class=w>    </span><span class=mf>0.067999</span><span class=p>,</span><span class=w>  </span><span class=mf>1125.772461</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-40.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1282.897095</span><span class=p>,</span><span class=w>    </span><span class=mf>0.938393</span><span class=p>,</span><span class=w>  </span><span class=mf>1045.571899</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1395.055054</span><span class=p>,</span><span class=w>    </span><span class=mf>0.107390</span><span class=p>,</span><span class=w>  </span><span class=mf>1148.677734</span><span class=p>,</span><span class=w>    </span><span class=mf>-0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1290.430908</span><span class=p>,</span><span class=w>    </span><span class=mf>0.098327</span><span class=p>,</span><span class=w>  </span><span class=mf>1254.477905</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>}</span><span class=w> </span>
<span class=w>        </span><span class=p>};</span><span class=w> </span>
<span class=w>    </span><span class=c1>//                          race name    coordinates   #laps         checkpoint object     startline object        finishline object </span>
<span class=w>    </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;Grand Prix short&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords2</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>);</span><span class=w> </span>
<span class=w>    </span><span class=n>races</span><span class=p>.</span><span class=n>setPenaltyTime</span><span class=p>(</span><span class=n>raceID</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w> </span><span class=c1>//  &lt;- this sets the default penalty time (in seconds) for this race when a race_penalty event occurs.</span>
<span class=w>    </span><span class=c1>// race 2 added and working</span>


<span class=w>    </span><span class=c1>// RACE 3</span>
<span class=w>    </span><span class=n>array</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>coords3</span><span class=w> </span><span class=o>=</span><span class=w>  </span>
<span class=w>        </span><span class=p>{</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1117.230103</span><span class=p>,</span><span class=w>     </span><span class=mf>0.067576</span><span class=p>,</span><span class=w>   </span><span class=mf>700.704956</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1136.480469</span><span class=p>,</span><span class=w>     </span><span class=mf>0.072812</span><span class=p>,</span><span class=w>  </span><span class=mf>1030.468628</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1101.686768</span><span class=p>,</span><span class=w>     </span><span class=mf>0.032589</span><span class=p>,</span><span class=w>   </span><span class=mf>701.005127</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>}</span><span class=w> </span>
<span class=w>        </span><span class=p>};</span><span class=w> </span>
<span class=w>    </span><span class=c1>//                       race name    coordinates   #laps         checkpoint object     startline object        finishline object </span>
<span class=w>    </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;oval race&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords3</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>);</span><span class=w> </span>
<span class=w>    </span><span class=n>races</span><span class=p>.</span><span class=n>setPenaltyTime</span><span class=p>(</span><span class=n>raceID</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w> </span><span class=c1>//  &lt;- this sets the default penalty time (in seconds) for this race when a race_penalty event occurs.</span>
<span class=w>    </span><span class=c1>// race 3 added and working</span>


<span class=w>    </span><span class=c1>// RACE 4</span>
<span class=w>    </span><span class=n>array</span><span class=o>&lt;</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>coords4</span><span class=w> </span><span class=o>=</span><span class=w>  </span>
<span class=w>        </span><span class=p>{</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=mf>1187.875977</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>       </span><span class=mf>1220.567383</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span><span class=w> </span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>784.379578</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>       </span><span class=mf>1221.171143</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>}</span><span class=w> </span>
<span class=w>        </span><span class=p>};</span><span class=w> </span>
<span class=w>    </span><span class=c1>//             race name    coordinates   #laps         checkpoint object     startline object        finishline object       race version </span>
<span class=w>    </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;drag race&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords4</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;new-checkpoint-start&quot;</span><span class=p>);</span><span class=w> </span>
<span class=w>    </span><span class=n>races</span><span class=p>.</span><span class=n>setPenaltyTime</span><span class=p>(</span><span class=n>raceID</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span><span class=w> </span><span class=c1>//  &lt;- this sets the default penalty time (in seconds) for this race when a race_penalty event occurs.</span>
<span class=w>    </span><span class=c1>// race 4 added and working</span>


<span class=w>    </span><span class=c1>// RACE 5</span>
<span class=w>    </span><span class=kt>double</span><span class=p>[][]</span><span class=w> </span><span class=n>coords5</span><span class=w> </span><span class=o>=</span><span class=w> </span>
<span class=w>        </span><span class=p>{</span>
<span class=w>            </span><span class=c1>//   x        z          y      3d rot    rot     3d rot</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>807.868</span><span class=p>,</span><span class=w> </span><span class=mf>5.09987</span><span class=p>,</span><span class=w>   </span><span class=mf>1114.47</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>724.386</span><span class=p>,</span><span class=w> </span><span class=mf>0.0994606</span><span class=p>,</span><span class=w> </span><span class=mf>1084.16</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>718.647</span><span class=p>,</span><span class=w> </span><span class=mf>0.0998037</span><span class=p>,</span><span class=w> </span><span class=mf>1038.22</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>45.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>696.235</span><span class=p>,</span><span class=w> </span><span class=mf>0.0989883</span><span class=p>,</span><span class=w>  </span><span class=mf>992.215</span><span class=p>,</span><span class=w>   </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-25.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>754.302</span><span class=p>,</span><span class=w> </span><span class=mf>0.098882</span><span class=p>,</span><span class=w>   </span><span class=mf>999.441</span><span class=p>,</span><span class=w>   </span><span class=mf>0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>763.464</span><span class=p>,</span><span class=w> </span><span class=mf>0.0987995</span><span class=p>,</span><span class=w> </span><span class=mf>1049.56</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>45.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>831.675</span><span class=p>,</span><span class=w> </span><span class=mf>5.01375</span><span class=p>,</span><span class=w>   </span><span class=mf>1058.26</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>919.557</span><span class=p>,</span><span class=w> </span><span class=mf>0.0995347</span><span class=p>,</span><span class=w> </span><span class=mf>1083.47</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>     </span><span class=mf>0.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span><span class=w> </span><span class=mf>884.884</span><span class=p>,</span><span class=w> </span><span class=mf>0.0987005</span><span class=p>,</span><span class=w> </span><span class=mf>1121.12</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>,</span><span class=w>   </span><span class=mf>-90.0</span><span class=p>,</span><span class=w>    </span><span class=mf>0.0</span><span class=p>}</span>
<span class=w>        </span><span class=p>};</span>
<span class=w>    </span><span class=c1>//                   race name   coordinates   #laps (no checkpoint objects are specified here, so the default RoR ones will be used)</span>
<span class=w>    </span><span class=n>raceID</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;mud race&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords5</span><span class=p>,</span><span class=w> </span><span class=mi>3</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// race 5 added and working</span>
<span class=p>}</span>

<span class=c1>// The default RoR event callback</span>
<span class=kt>void</span><span class=w> </span><span class=nf>eventCallback</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>value</span><span class=p>)</span>
<span class=p>{</span>
<span class=w>    </span><span class=n>races</span><span class=p>.</span><span class=n>eventCallback</span><span class=p>(</span><span class=n>eventnum</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=p>);</span>
<span class=p>}</span>

<span class=kt>void</span><span class=w> </span><span class=nf>on_penaltyEvent</span><span class=p>(</span><span class=n>dictionary</span><span class=err>@</span><span class=w> </span><span class=n>info</span><span class=p>)</span>
<span class=p>{</span>
<span class=w>    </span><span class=c1>// this method gets called every time a race_penalty event occurs.</span>

<span class=w>    </span><span class=c1>// We can also change the penalty time here:</span>
<span class=w>    </span><span class=n>info</span><span class=p>.</span><span class=n>set</span><span class=p>(</span><span class=s>&quot;penaltyTime&quot;</span><span class=p>,</span><span class=w> </span><span class=mi>10</span><span class=p>);</span>
<span class=w>    </span><span class=c1>// But the penalty time was already set to 10 seconds, because we had set it to 10 in the main() function.</span>
<span class=w>    </span><span class=c1>// So now we&#39;ve set it twice to 10 seconds, which is quite pointless...</span>

<span class=w>    </span><span class=c1>// Just show a message to inform the user about the penalty</span>
<span class=w>    </span><span class=n>races</span><span class=p>.</span><span class=n>message</span><span class=p>(</span><span class=s>&quot;PENALTY&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;lightning.png&quot;</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div> <p><strong>Notes:</strong></p> <ol> <li>We've only used the 'race_penalty' event here, but you can also use the 'race_abort' event, which will abort the race when the event box is triggered.</li> <li>Another way to add penalty seconds is using the <a href=https://developer.rigsofrods.org/d9/dce/class_script2_script_1_1races_manager.html#a6d33d12db6fe5798ee9579aab701206d>races.addPenaltySeconds(int seconds)</a> method.</li> <li>You can also register callback functions for other events: <a href=https://developer.rigsofrods.org/d9/dce/class_script2_script_1_1races_manager.html>https://developer.rigsofrods.org/d9/dce/class_script2_script_1_1races_manager.html</a></li> </ol> <h2 id=more-advanced-functionality>More Advanced Functionality<a class=headerlink href=#more-advanced-functionality title="Permanent link">&para;</a></h2> <h3 id=documentation-and-questions>Documentation and questions<a class=headerlink href=#documentation-and-questions title="Permanent link">&para;</a></h3> <p>See <a href=https://developer.rigsofrods.org/d2/d42/group___script_side_a_p_is.html>reference manual</a>. Studying the script files of other terrains may also greatly help you.</p> <p>In case of questions/suggestions/complains, get in touch <a href=https://forum.rigsofrods.org/forums/development-discussions.6/ >in the forums</a>.</p> <h3 id=example-extending-racesmanager>Example: Extending RacesManager<a class=headerlink href=#example-extending-racesmanager title="Permanent link">&para;</a></h3> <p>Here's an example where we inherit from the racesManager class and add functionality. (In this case, we limit the allowed vehicles, so the race won't start if certain vehicles aren't used). You can test this script by adding it to the North Saint Helens terrain.</p> <div class=highlight><pre><span></span><code><span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;base.as&quot;</span><span class=c1>;</span>
<span class=cp>#include</span><span class=w> </span><span class=cpf>&quot;races.as&quot;</span><span class=c1>;</span>

<span class=n>racesManagerWithVehicleLimit</span><span class=w> </span><span class=nf>races</span><span class=p>();</span>

<span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span>

<span class=w>    </span><span class=c1>// Add the race like usual  </span>
<span class=w>    </span><span class=n>array</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>array</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span><span class=w>  </span><span class=o>&gt;</span><span class=w> </span><span class=n>coords1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=w>  </span>
<span class=w>        </span><span class=p>{</span><span class=mf>1140.259644</span><span class=p>,</span><span class=w> </span><span class=mf>34.136135</span><span class=p>,</span><span class=w> </span><span class=mf>920.070313</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>},</span><span class=w>  </span>
<span class=w>        </span><span class=p>{</span><span class=mf>1140.259644</span><span class=p>,</span><span class=w> </span><span class=mf>34.136135</span><span class=p>,</span><span class=w> </span><span class=mf>950.070313</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>,</span><span class=w> </span><span class=mf>0.0</span><span class=p>}</span><span class=w>  </span>
<span class=w>    </span><span class=p>};</span><span class=w>  </span>
<span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>raceID_testRace</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>addRace</span><span class=p>(</span><span class=s>&quot;testRace&quot;</span><span class=p>,</span><span class=w> </span><span class=n>coords1</span><span class=p>,</span><span class=w> </span><span class=n>races</span><span class=p>.</span><span class=n>LAPS_NoLaps</span><span class=p>);</span><span class=w>  </span>

<span class=w>    </span><span class=c1>// Add some vehicles (when you don&#39;t add any vehicles, then all vehicles will be allowed)  </span>
<span class=w>    </span><span class=n>races</span><span class=p>.</span><span class=n>addVehicle</span><span class=p>(</span><span class=n>raceID_testRace</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Bus RVI agora S&quot;</span><span class=p>);</span><span class=w>  </span>
<span class=w>    </span><span class=n>races</span><span class=p>.</span><span class=n>addVehicle</span><span class=p>(</span><span class=n>raceID_testRace</span><span class=p>,</span><span class=w> </span><span class=s>&quot;Bus RVI agora L&quot;</span><span class=p>);</span><span class=w>  </span>

<span class=p>}</span>

<span class=c1>// Other stuff (No race specific stuff under this line)</span>

<span class=k>class</span><span class=w> </span><span class=nc>racesManagerWithVehicleLimit</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>racesManager</span><span class=w> </span><span class=p>{</span>

<span class=w>    </span><span class=n>dictionary</span><span class=w> </span><span class=n>vehicleData</span><span class=p>;</span><span class=w>  </span>
<span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>lastMessageTime</span><span class=p>;</span><span class=w>  </span>

<span class=w>    </span><span class=n>racesManagerWithVehicleLimit</span><span class=p>()</span><span class=w>  </span>
<span class=w>    </span><span class=p>{</span><span class=w>  </span>
<span class=w>        </span><span class=n>super</span><span class=p>();</span><span class=w>  </span>
<span class=w>        </span><span class=n>lastMessageTime</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.0</span><span class=p>;</span><span class=w>  </span>
<span class=w>    </span><span class=p>}</span><span class=w>  </span>

<span class=w>    </span><span class=c1>// extend this method  </span>
<span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>startRace</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>raceID</span><span class=p>)</span><span class=w> </span><span class=cm>/*override*/</span><span class=w>  </span>
<span class=w>    </span><span class=p>{</span><span class=w>  </span>
<span class=w>        </span><span class=kt>bool</span><span class=w> </span><span class=n>allow</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>true</span><span class=p>;</span><span class=w>  </span>

<span class=w>        </span><span class=c1>// Do we have vehicle data for this race?  </span>
<span class=w>        </span><span class=n>array</span><span class=w> </span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span><span class=w> </span><span class=err>@</span><span class=w> </span><span class=n>vehicles</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>null</span><span class=p>;</span><span class=w>  </span>
<span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>vehicleData</span><span class=p>.</span><span class=n>get</span><span class=p>(</span><span class=s>&quot;race_&quot;</span><span class=o>+</span><span class=n>raceID</span><span class=p>,</span><span class=w> </span><span class=err>@</span><span class=n>vehicles</span><span class=p>))</span><span class=w>  </span>
<span class=w>        </span><span class=p>{</span><span class=w>  </span>
<span class=w>            </span><span class=c1>// Get the name of the current truck  </span>
<span class=w>            </span><span class=n>string</span><span class=w> </span><span class=n>truckName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;avatar&quot;</span><span class=p>;</span><span class=w>  </span>
<span class=w>            </span><span class=n>BeamClass</span><span class=err>@</span><span class=w> </span><span class=n>truck</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>game</span><span class=p>.</span><span class=n>getCurrentTruck</span><span class=p>();</span><span class=w>  </span>
<span class=w>            </span><span class=k>if</span><span class=p>(</span><span class=n>truck</span><span class=w> </span><span class=o>!</span><span class=n>is</span><span class=w> </span><span class=n>null</span><span class=p>)</span><span class=w>  </span>
<span class=w>                </span><span class=n>truckName</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>truck</span><span class=p>.</span><span class=n>getTruckName</span><span class=p>();</span><span class=w>  </span>

<span class=w>            </span><span class=k>if</span><span class=p>(</span><span class=n>vehicles</span><span class=p>.</span><span class=n>find</span><span class=p>(</span><span class=n>truckName</span><span class=p>)</span><span class=w> </span><span class=o>&lt;</span><span class=mi>0</span><span class=p>)</span><span class=w> </span>
<span class=w>                </span><span class=n>allow</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>false</span><span class=p>;</span><span class=w> </span>
<span class=w>        </span><span class=p>}</span><span class=w> </span>

<span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>allow</span><span class=p>)</span><span class=w> </span>
<span class=w>            </span><span class=n>racesManager</span><span class=o>::</span><span class=n>startRace</span><span class=p>(</span><span class=n>raceID</span><span class=p>);</span><span class=w> </span>
<span class=w>        </span><span class=k>else</span><span class=w>  </span>
<span class=w>        </span><span class=p>{</span><span class=w> </span>
<span class=w>            </span><span class=c1>// Avoid message spam (in exceptional cases) </span>
<span class=w>            </span><span class=k>if</span><span class=p>((</span><span class=n>game</span><span class=p>.</span><span class=n>getTime</span><span class=p>()</span><span class=o>-</span><span class=k>this</span><span class=p>.</span><span class=n>lastMessageTime</span><span class=p>)</span><span class=o>&gt;</span><span class=w> </span><span class=mf>5.0</span><span class=p>)</span><span class=w>  </span>
<span class=w>            </span><span class=p>{</span><span class=w>  </span>
<span class=w>                </span><span class=k>this</span><span class=p>.</span><span class=n>lastMessageTime</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>game</span><span class=p>.</span><span class=n>getTime</span><span class=p>();</span><span class=w>  </span>

<span class=w>                </span><span class=k>this</span><span class=p>.</span><span class=n>message</span><span class=p>(</span><span class=s>&quot;Race &quot;</span><span class=o>+</span><span class=k>this</span><span class=p>.</span><span class=n>raceList</span><span class=p>[</span><span class=n>raceID</span><span class=p>].</span><span class=n>raceName</span><span class=o>+</span><span class=s>&quot; can only be started with one of the following vehicles:&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;information.png&quot;</span><span class=p>);</span><span class=w>  </span>
<span class=w>                </span><span class=k>this</span><span class=p>.</span><span class=n>message</span><span class=p>(</span><span class=n>arrayToString</span><span class=p>(</span><span class=n>vehicles</span><span class=p>),</span><span class=w> </span><span class=s>&quot;information.png&quot;</span><span class=p>);</span><span class=w>  </span>
<span class=w>            </span><span class=p>}</span><span class=w>  </span>
<span class=w>        </span><span class=p>}</span><span class=w>  </span>
<span class=w>    </span><span class=p>}</span><span class=w>  </span>

<span class=w>    </span><span class=kt>void</span><span class=w> </span><span class=n>addVehicle</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>raceID</span><span class=p>,</span><span class=w> </span><span class=n>string</span><span class=w> </span><span class=n>vehicleName</span><span class=p>)</span><span class=w>  </span>
<span class=w>    </span><span class=p>{</span><span class=w>  </span>
<span class=w>        </span><span class=n>array</span><span class=w> </span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span><span class=w> </span><span class=err>@</span><span class=w> </span><span class=n>vehicles</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>null</span><span class=p>;</span><span class=w>  </span>
<span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>vehicleData</span><span class=p>.</span><span class=n>get</span><span class=p>(</span><span class=s>&quot;race_&quot;</span><span class=o>+</span><span class=n>raceID</span><span class=p>,</span><span class=w> </span><span class=err>@</span><span class=n>vehicles</span><span class=p>))</span><span class=w>  </span>
<span class=w>        </span><span class=p>{</span><span class=w>  </span>
<span class=w>            </span><span class=n>array</span><span class=w> </span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span><span class=w>  </span><span class=n>vehicles2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{};</span><span class=w>  </span>
<span class=w>            </span><span class=err>@</span><span class=n>vehicles</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>@</span><span class=n>vehicles2</span><span class=p>;</span><span class=w>  </span>
<span class=w>            </span><span class=n>vehicleData</span><span class=p>.</span><span class=n>set</span><span class=p>(</span><span class=s>&quot;race_&quot;</span><span class=o>+</span><span class=n>raceID</span><span class=p>,</span><span class=w> </span><span class=err>@</span><span class=n>vehicles</span><span class=p>);</span><span class=w>  </span>
<span class=w>        </span><span class=p>}</span><span class=w>  </span>

<span class=w>        </span><span class=n>vehicles</span><span class=p>.</span><span class=n>insertLast</span><span class=p>(</span><span class=n>vehicleName</span><span class=p>);</span><span class=w>  </span>
<span class=w>    </span><span class=p>}</span><span class=w>  </span>

<span class=p>}</span>

<span class=n>string</span><span class=w> </span><span class=n>arrayToString</span><span class=p>(</span><span class=n>array</span><span class=o>&lt;</span><span class=n>string</span><span class=o>&gt;</span><span class=err>@</span><span class=w> </span><span class=n>arr</span><span class=p>)</span><span class=w> </span><span class=p>{</span>

<span class=w>    </span><span class=n>string</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>&quot;&quot;</span><span class=p>;</span><span class=w>  </span>
<span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>arr</span><span class=w> </span><span class=o>!</span><span class=n>is</span><span class=w> </span><span class=n>null</span><span class=p>)</span><span class=w> </span><span class=k>for</span><span class=p>(</span><span class=n>uint</span><span class=w> </span><span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>&lt;</span><span class=n>arr</span><span class=p>.</span><span class=n>length</span><span class=p>();</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w>  </span>
<span class=w>    </span><span class=p>{</span><span class=w>  </span>
<span class=w>        </span><span class=n>result</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>];</span><span class=w>  </span>
<span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>i</span><span class=o>!=</span><span class=n>arr</span><span class=p>.</span><span class=n>length</span><span class=p>()</span><span class=mi>-1</span><span class=p>)</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=s>&quot;, &quot;</span><span class=p>;</span><span class=w>  </span>
<span class=w>    </span><span class=p>}</span><span class=w>  </span>
<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>result</span><span class=p>;</span><span class=w>  </span>

<span class=p>}</span>
</code></pre></div> <h3 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">&para;</a></h3> <p>If your race doesn't work, feel free to post your terrain file in this forum, and we may have a look at it. <a href=https://forum.rigsofrods.org/forums/content-support.10/ >https://forum.rigsofrods.org/forums/content-support.10/</a></p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="July 6, 2025 12:25:42 UTC">July 6, 2025</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../race-generator/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Race script generator"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Race script generator </div> </div> </a> <a href=../raw-heightmaps/ class="md-footer__link md-footer__link--next" aria-label="Next: RAW Heightmaps"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> RAW Heightmaps </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> <a href=https://docs.rigsofrods.org/ target=_blank>End-user documentation for the Rigs of Rods project. &copy; 2013-2025 Rigs of Rods documentation contributors.</a> </div> </div> <div class=md-social> <a href=https://x.com/rigsofrods target=_blank rel=noopener title="Rigs of Rods on X" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg> </a> <a href=https://discord.gg/rigsofrods target=_blank rel=noopener title="Rigs of Rods on Discord" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=https://youtube.com/@rigsofrods_official target=_blank rel=noopener title="Rigs of Rods on YouTube" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg> </a> <a href=https://fosstodon.org/@rigsofrods target=_blank rel="noopener me" title="Rigs of Rods on Mastodon" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.5 102.5 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5m-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg> </a> <a href=https://facebook.com/RigsOfRods target=_blank rel=noopener title="Rigs of Rods on Facebook" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.footer", "navigation.top", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.56ea9cef.min.js></script> </body> </html>